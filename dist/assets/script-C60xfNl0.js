(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(e){if(e.ep)return;e.ep=!0;const s=t(e);fetch(e.href,s)}})();function T(o,n=3e3){const t=document.getElementById("confirm-message");t.textContent=o,t&&(t.classList.add("show-text"),t.classList.remove("hide-text"),setTimeout(()=>{t.classList.remove("show-text"),t.classList.add("hide-text")},n))}function h(o,n){const t=document.getElementById("bookmark-form"),r=document.querySelector(".card-list-container"),e=document.querySelector(".container"),s=document.querySelector(".category-container");t.innerHTML="",t.style.display="flex";const c=document.createElement("input");c.classList.add("title"),c.placeholder="Title";const i=document.createElement("input");i.classList.add("url"),i.placeholder="URL";const a=document.createElement("textarea");a.classList.add("description"),a.placeholder="Description";const d=document.createElement("input");d.classList.add("image-file"),d.type="file",d.accept="image/*";const m=document.createElement("div");m.classList.add("button-container");const y=document.createElement("button");y.classList.add("save-btn"),y.textContent="Save";const l=document.createElement("button");l.classList.add("cancel-btn"),l.textContent="Cancel";const u=document.createElement("button");u.classList.add("back-btn"),u.textContent="‚Üê",u.style.marginLeft=0,m.append(l,y),t.append(u,c,i,d,a,m),y.addEventListener("click",()=>{if(!c.value.trim()){alert("Please fill the title");return}const g=d.files[0];if(g){const C=new FileReader;C.onload=w=>{const L=new Image;L.onload=()=>{const f=document.createElement("canvas"),E=300,I=E/L.width;f.width=E,f.height=L.height*I,f.getContext("2d").drawImage(L,0,0,f.width,f.height);const q=f.toDataURL("image/jpeg",.7);n({categoryId:o,titleInput:c.value,urlInput:i.value,description:a.value,imageData:q}),t.style.display="none",r.style.display="flex"},L.src=w.target.result},C.readAsDataURL(g)}else n({categoryId:o,titleInput:c.value,urlInput:i.value,description:a.value,imageData:null}),t.style.display="none",r.style.display="flex";T("‚úÖ Bookmark Saved!",3e3)}),l.addEventListener("click",()=>{t.style.display="none",r.style.display="none",s.style.marginTop="4rem",e.style.display="flex"}),u.addEventListener("click",()=>{t.style.display="none",s.style.display="grid",e.style.display="flex",s.style.marginTop="4rem"})}function D(o,n){const t=document.getElementById("bookmark-form"),r=document.querySelector(".card-list-container");document.querySelector(".container");const e=document.createElement("button");return e.textContent="New bookmark ",e.classList.add("add-btn"),e.addEventListener("click",()=>{t.style.display="flex",e.style.display="none",r.style.display="none",h(o,n)}),e}function M(o,n){const t=document.createElement("button");return t.classList.add("delete-btn"),t.textContent="üóëÔ∏è",t.addEventListener("click",()=>n(o)),t}function $(o,n){const t=document.querySelector(".card-list-container"),r=document.querySelector(".lists-container"),e=document.createElement("button");return e.textContent="Delete all",e.classList.add("delete-all-btn"),e.addEventListener("click",()=>{if(!confirm("Are you sure you want to delete ALL saved bookmarks?"))return;O(),t&&(t.innerHTML=""),r&&(r.innerHTML="");const c=p();t.style.display="none",h(o,c)}),e}let S=null;function k(o,n,t){const r=document.getElementById("bookmark-form"),e=document.querySelector(".card-list-container"),s=document.querySelector(".container"),c=document.querySelector(".category-container"),i=document.querySelector(".lists-container");document.querySelector(".wrapper"),i.style.display="none",e.innerHTML="";const a=document.createElement("button");a.classList.add("cards-back-btn"),a.textContent="‚Üê",i.style.display="none",a.addEventListener("click",()=>{c.style.visibility="visible",c.style.marginTop="4rem",c.style.marginBottom="4rem",s.style.display="flex",e.style.display="none",r.style.display="none"}),e.appendChild(a),S=t;const d=document.createElement("h2");d.textContent=o.charAt(0).toUpperCase()+o.slice(1),d.classList.add("category-label"),e.appendChild(d);const m=n.filter(l=>l.categoryId===o);m.forEach(l=>{const u=document.createElement("ul");u.classList.add("list-card"),u.innerHTML=`<li>
      ${l.imageData?`<img src="${l.imageData}" alt="${l.titleInput}" />`:""}
      <h3>${l.titleInput}</h3> </li>
    `,u.addEventListener("click",()=>{A(l);const g=document.querySelector(".card-list-container");i.style.display="grid",g.style.display="none"}),e.appendChild(u)});const y=D(o,t);if(m.length>0){const l=document.createElement("div");l.classList.add("buttons-container");const u=$(o);e.style.display="flex",i.style.display="none",e.style.flexDirection="column",l.append(u,y),e.appendChild(l),r.style.display="none"}else r.style.display="flex",h(o,t)}function A(o){const n=document.querySelector(".lists"),t=document.querySelector(".container"),r=document.querySelector(".lists-container"),e=document.querySelector(".card-list-container");n.innerHTML=`
    <li>
    <p>  ‚Ñç Title </p>
      <h3 class='details'> ${o.titleInput}</h3>
      <p >üîó Url</p>
      <a class='details' href="${o.urlInput}" target="_blank">   ${o.urlInput}</a>
      <p  > üìù Description </p>
      <p class='details'>  ${o.description}</p>
      <p>üì∏ Photos</p>
      ${o.imageData?`<img src="${o.imageData}" alt="${o.titleInput}" />`:""}
    </li>

  `;const s=M(o.titleInput,i=>{H(i);const a=p();k(o.categoryId,a,S),n.innerHTML="";const d=r.querySelector(".back-btn");d&&d.remove()});n.insertBefore(s,n.firstChild);const c=document.createElement("button");c.classList.add("back-btn"),c.textContent="‚Üê",c.addEventListener("click",()=>{t.style.display="none",n.style.display="none",e.style.display="flex",c.style.display="none",e.style.marginTop="5rem",r.style.display="none"}),r.insertBefore(c,r.firstChild),n.style.display="flex"}function p(){return JSON.parse(localStorage.getItem("bookmarks"))||[]}function H(o){let n=p();n=n.filter(t=>t.titleInput!==o),localStorage.setItem("bookmarks",JSON.stringify(n))}function O(){localStorage.removeItem("bookmarks")}function B(o){const n=document.querySelector(".wrapper"),t=document.createElement("div");t.classList.add("result-container");const r=document.createElement("p");r.classList.add("search-title"),r.textContent=`${o.length} found`,n.innerHTML="";const e=document.createElement("button");e.classList.add("back-btn"),e.textContent="‚Üê",e.style.marginTop="20px",e.style.marginBottom="10px",o.forEach(s=>{const c=document.createElement("div");c.classList.add("bookmark-item"),c.style.color="white";const i=s.titleInput||"No title",a=s.categoryId||"No category";c.innerHTML=`
  
    
    <div class="search-result">
    <p class="category-title">Category: ${a}</p>
    <P> Bookmark:  ${i}</P>
    </div>
    
    <p> 

  `,t.append("",c),n.appendChild(t)}),e.addEventListener("click",()=>{t.style.display="none";const s=document.querySelector(".wrapper");s.innerHTML="",location.reload()}),n.prepend(e),t.insertBefore(r,t.firstChild),n.style.rowGap="1rem",n.style.alignItems="flex-start",n.style.marginLeft="1rem"}function N(){const o=document.querySelector(".search-bar-container");o||retrun,o.innerHtml="";const n=document.createElement("input");n.type="search",n.placeholder="Search ...",n.classList.add("search");const t=document.createElement("button");t.classList.add("search-btn"),t.textContent="‚åï",t.style.fontSize="44.8px",t.style.color="#cacacaff",t.style.backgroundColor="transparent",t.style.border="none",o.append(n,t);const r="search-input-error";t.addEventListener("click",()=>{const e=document.querySelector(`.${r}`);e&&e.remove();const s=(n.value||"").trim().toLowerCase(),c=p();if(!Array.isArray(c)||c.length===0){B([]);return}if(s===""){const a=document.createElement("p");a.textContent="Please type something",a.style.color="#ff0303ff",a.classList.add(r),o.after(a),n.focus();return}e&&e.remove();const i=c.filter(a=>{const d=(a.titleInput||"").toLowerCase(),m=(a.categoryId||"").toLowerCase(),y=(a.urlInput||"").toLowerCase(),l=(a.description||"").toLowerCase();return d.includes(s)||m.includes(s)||y.includes(s)||l.includes(s)});B(i)})}function b(o){const n=document.querySelector(".container");document.querySelectorAll(".category").forEach(r=>{r.addEventListener("click",()=>{o(r.id),n.style.display="none"})})}document.querySelector(".container");document.querySelector(".wrapper");const P=document.querySelector(".lists-container"),R=document.querySelector(".card-list-container");P.style.display="none";R.style.display="none";function U(){N(),b(v)}function v(o){const n=document.getElementById("bookmark-form");n.style.display="none";const t=p();k(o,t,x),window.cardListBackButton&&typeof window.cardListBackButton=="function"&&window.cardListBackButton(()=>{const r=document.querySelector(".container"),e=document.querySelector(".card-list-container");e&&(e.style.display="none"),r&&(r.style.display="flex",r.innerHTML="",b(v))})}function x(o){const n=p();n.push(o),localStorage.setItem("bookmarks",JSON.stringify(n)),k(o.categoryId,p(),x)}document.addEventListener("DOMContentLoaded",U);
